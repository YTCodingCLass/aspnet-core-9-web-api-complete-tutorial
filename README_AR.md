# 🚀 سلسلة دروس ASP.NET Core 9 Web API الشاملة

![.NET](https://img.shields.io/badge/.NET-9.0-512BD4?style=for-the-badge&logo=dotnet)
![ASP.NET Core](https://img.shields.io/badge/ASP.NET%20Core-9.0-512BD4?style=for-the-badge&logo=dotnet)
![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=black)
![YouTube](https://img.shields.io/badge/YouTube-Tutorial-FF0000?style=for-the-badge&logo=youtube)

> **سلسلة دروس عملية شاملة لبناء واجهات برمجة التطبيقات الحديثة باستخدام ASP.NET Core 9**  
> من المبتدئ المطلق إلى تطبيقات جاهزة للإنتاج! 🎯

## 📺 سلسلة دروس يوتيوب

يحتوي هذا المستودع على جميع الأكواد المصدرية لسلسلة دروسنا الشاملة لـ ASP.NET Core 9 Web API. كل مجلد يمثل فصلاً كاملاً مع أمثلة أكواد عملية.

**🔗 [شاهد القائمة الكاملة على يوتيوب](#)** *(أضف رابط قائمة التشغيل هنا)*

## 📚 هيكل الدروس

| الفصل | الموضوع | المفاهيم الأساسية | المدة |
|---------|-------|--------------|----------|
| **01** | [المقدمة والإعداد](./01-introduction-and-setup/) | إنشاء المشروع، إعداد .NET 9 | ⏱️ ~15 دقيقة |
| **02-03** | [أول كونترولر و Swagger](./02-03-first-controller-and-swagger/) | الكونترولرز، توثيق API | ⏱️ ~25 دقيقة |
| **03** | [HTTP Methods API - الجزء 1](./03-http-methods-api/) | أساسيات GET و POST | ⏱️ ~20 دقيقة |
| **04** | [HTTP Methods API - الجزء 2](./04-http-methods-api/) | PUT, PATCH, DELETE، رموز الحالة | ⏱️ ~35 دقيقة |
| **05** | [DTOs والتحقق](./05-dto-and-validations/) | كائنات نقل البيانات، ModelState | ⏱️ ~30 دقيقة |
| **06** | [تكامل AutoMapper](./06-automapper/) | ربط الكائنات، معمارية نظيفة | ⏱️ ~20 دقيقة |
| **07** | [حقن التبعية](./07-dependency-injection/) | دورات حياة الخدمات: Singleton, Scoped, Transient | ⏱️ ~30 دقيقة |
| **08** | [نمط Repository والخدمات](./08-repository-and-services/) | نمط Repository، طبقة الخدمات، المعمارية النظيفة | ⏱️ ~40 دقيقة |
| **09** | [معالجة الاستثناءات الشاملة](./09-exception-handling/) | IExceptionHandler، RFC 7807، استثناءات مخصصة | ⏱️ ~45 دقيقة |

## 🎯 ما ستتعلمه

### **مفاهيم ASP.NET Core الأساسية**
- ✅ إعداد مشاريع ASP.NET Core 9 من الصفر
- ✅ بناء واجهات برمجة تطبيقات RESTful مع رموز حالة HTTP صحيحة
- ✅ تنفيذ جميع عمليات CRUD (إنشاء، قراءة، تحديث، حذف)
- ✅ فهم نمط MVC في سياق Web API

### **توثيق وفحص API**
- ✅ تكامل Swagger/OpenAPI للتوثيق التلقائي
- ✅ تعليقات XML لتوثيق غني للـ API
- ✅ ملفات طلبات HTTP لفحص النقاط النهائية
- ✅ خصائص ProducesResponseType للعقود الواضحة

### **إدارة البيانات والتحقق**
- ✅ كائنات نقل البيانات (DTOs) لتصميم API نظيف
- ✅ التحقق من الإدخال باستخدام DataAnnotations
- ✅ معالجة الأخطاء ورسائل التحقق المخصصة
- ✅ AutoMapper لربط الكائنات بكفاءة

### **حقن التبعية والمعمارية**
- ✅ حقن التبعية ودورات حياة الخدمات
- ✅ فهم خدمات Singleton و Scoped و Transient
- ✅ تسجيل الخدمات وتكوين الحاوي
- ✅ أفضل الممارسات لتصميم وتطبيق الخدمات
- ✅ نمط Repository والخدمات
- ✅ المعمارية النظيفة مع فصل الاهتمامات

### **معالجة الاستثناءات وإدارة الأخطاء**
- ✅ معالجة الاستثناءات الشاملة باستخدام `IExceptionHandler`
- ✅ معيار RFC 7807 Problem Details للاستجابات الخطأ
- ✅ تسلسل هرمي مخصص للاستثناءات مع رموز حالة HTTP
- ✅ التحقق في طبقة الخدمات وتطبيق قواعد العمل
- ✅ تفاصيل أخطاء واعية بالبيئة (التطوير مقابل الإنتاج)
- ✅ معالجة أخطاء مركزية بدون كتل try-catch

### **أفضل الممارسات**
- ✅ فصل الاهتمامات مع هيكل مشروع صحيح
- ✅ دلالات HTTP methods (idempotency, safety)
- ✅ أنماط الاستجابة ورموز الحالة
- ✅ التسجيل واعتبارات الأداء

## 🚀 البداية السريعة

### المتطلبات المسبقة
- [.NET 9 SDK](https://dotnet.microsoft.com/download/dotnet/9.0)
- IDE: [Visual Studio 2022](https://visualstudio.microsoft.com/vs/)، [VS Code](https://code.visualstudio.com/)، أو [JetBrains Rider](https://www.jetbrains.com/rider/)

### تشغيل أي مشروع
1. **استنساخ المستودع**
   ```bash
   git clone https://github.com/YTCodingCLass/aspnet-core-9-web-api-complete-tutorial.git
   cd aspnet-core-9-web-api-complete-tutorial
   ```

2. **الانتقال إلى الفصل المرغوب**
   ```bash
   cd 04-http-methods-api/HttpMethodsApi
   ```

3. **استعادة التبعيات**
   ```bash
   dotnet restore
   ```

4. **تشغيل التطبيق**
   ```bash
   dotnet run
   ```

5. **فتح Swagger UI**
   - انتقل إلى: `https://localhost:7xxx/swagger`
   - اختبر جميع النقاط النهائية بشكل تفاعلي!

## 📖 تفاصيل الفصول

### **الفصل 01: المقدمة والإعداد**
- إنشاء أول مشروع ASP.NET Core 9 Web API
- فهم هيكل المشروع والملفات
- Program.cs ونموذج الاستضافة الدنيا

### **الفصل 02-03: أول كونترولر و Swagger**
- بناء أول كونترولر API
- إضافة Swagger لتوثيق API
- تعليقات XML للتوثيق الغني
- الفحص باستخدام Swagger UI

### **الفصل 03: HTTP Methods API - الجزء 1**
- تنفيذ طرق GET و POST
- فهم مبادئ RESTful
- عمليات CRUD الأساسية
- مقدمة لرموز الحالة

### **الفصل 04: HTTP Methods API - الجزء 2**
- تنفيذ طرق PUT و PATCH و DELETE
- فهم idempotency للطرق
- استخدام رموز الحالة الصحيحة (200, 201, 204, 400, 404)
- أنماط معالجة الأخطاء والتسجيل

### **الفصل 05: DTOs والتحقق**
- كائنات نقل البيانات لتصميم API نظيف
- التحقق من الإدخال باستخدام DataAnnotations
- رسائل التحقق المخصصة
- فصل النماذج الداخلية عن عقود API

### **الفصل 06: تكامل AutoMapper**
- تثبيت وتكوين AutoMapper في ASP.NET Core
- إنشاء ملفات تعريف الربط للـ DTOs والكيانات
- إزالة كود الربط المكرر
- سيناريوهات ربط متقدمة مع حساب حالة المخزون
- أفضل الممارسات لربط الكائنات في Web APIs

### **الفصل 07: حقن التبعية**
- فهم مبادئ حقن التبعية في ASP.NET Core
- إنشاء وتسجيل الخدمات في حاوي DI
- دورات حياة الخدمات: **Transient** و **Scoped** و **Singleton**
- الفروق العملية بين دورات حياة الخدمات مع أمثلة حقيقية
- متى تستخدم كل دورة حياة في تطبيقات الإنتاج
- عرض بصري لإنشاء النسخ والتخلص منها

### **الفصل 08: نمط Repository والخدمات**
- تنفيذ نمط Repository لتجريد الوصول إلى البيانات
- بناء طبقة الخدمات لمنطق العمل والتحقق
- المعمارية النظيفة مع فصل الاهتمامات بشكل صحيح
- حقن التبعية للاقتران المرن
- ربط DTOs مع تكامل AutoMapper
- استراتيجيات الاختبار مع التبعيات المموهة

### **الفصل 09: معالجة الاستثناءات الشاملة**
- تنفيذ معالجة الاستثناءات الشاملة باستخدام `IExceptionHandler` (.NET 8+)
- إنشاء تسلسل هرمي مخصص للاستثناءات مع رموز حالة HTTP
- معيار RFC 7807 Problem Details لاستجابات خطأ متسقة
- سلسلة معالجات الاستثناءات (ValidationException → BusinessException → Global)
- نقل التحقق من الكونترولرز إلى طبقة الخدمات
- تفاصيل أخطاء واعية بالبيئة للأمان
- معالجة الأخطاء المركزية تزيل كتل try-catch من الكونترولرز

## 🔧 هيكل المشروع

```
aspnet-core-9-web-api-tutorial/
├── 01-introduction-and-setup/
│   └── AspNetCore9WebApiIntro/
├── 02-03-first-controller-and-swagger/
│   └── FirstControllerAndSwagger/
├── 03-http-methods-api/
│   └── HttpMethodsApi/
├── 04-http-methods-api/
│   └── HttpMethodsApi/
├── 05-dto-and-validations/
│   └── DtoAndValidation/
├── 06-automapper/
│   └── AutoMapperApi/
├── 07-dependency-injection/
│   └── DependencyInjectionApi/
├── 08-repository-and-services/
│   └── RepositoryAndServicesApi/
├── 09-exception-handling/
│   └── ExceptionHandlingApi/
├── README.md
└── README_AR.md
```

## 🛠️ التقنيات المستخدمة

- **Framework**: ASP.NET Core 9.0
- **اللغة**: C# 12
- **التوثيق**: Swagger/OpenAPI 3.0
- **التحقق**: DataAnnotations
- **الربط**: AutoMapper
- **IDE**: JetBrains Rider / Visual Studio

## 📋 ميزات API المغطاة

### **API إدارة المنتجات**
- **GET** `/api/products` - استرداد جميع المنتجات
- **GET** `/api/products/{id}` - الحصول على منتج بالمعرف
- **POST** `/api/products` - إنشاء منتج جديد
- **PUT** `/api/products/{id}` - تحديث المنتج كاملاً
- **PATCH** `/api/products/{id}` - تحديث جزئي للمنتج
- **DELETE** `/api/products/{id}` - حذف المنتج

### **تنسيقات الاستجابة**
- استجابات JSON مع أنواع محتوى صحيحة
- معالجة أخطاء متسقة
- تفاصيل أخطاء التحقق
- رؤوس مخصصة للموارد المنشأة

## 🎓 مسار التعلم

**الترتيب المُوصى به للمبتدئين:**
1. ابدأ بـ **الفصل 01** لإعداد المشروع
2. اتبع **الفصول 02-03** لفهم الكونترولرز و Swagger
3. تعلم **الفصل 03** لطرق HTTP الأساسية (GET, POST)
4. أتقن **الفصل 04** لطرق HTTP المتقدمة (PUT, PATCH, DELETE)
5. افهم **الفصل 05** للـ DTOs المهنية والتحقق
6. مارس **الفصل 06** لتكامل AutoMapper
7. ادرس **الفصل 07** لمفاهيم حقن التبعية
8. ابنِ بـ **الفصل 08** لنمط Repository والخدمات
9. أكمل بـ **الفصل 09** لمعالجة الاستثناءات الشاملة

**للمطورين ذوي الخبرة:**
- انتقل لأي فصل حسب حاجتك
- كل مشروع مستقل وقابل للتشغيل

## 🤝 المساهمة

وجدت مشكلة أو تريد تحسين شيء؟ لا تتردد في:
- 🐛 الإبلاغ عن الأخطاء
- 💡 اقتراح التحسينات
- 📝 إصلاح التوثيق
- ⭐ إعطاء نجمة للمستودع إذا ساعدك!

## 📞 الدعم والمجتمع

- **تعليقات يوتيوب**: اطرح أسئلة تحت كل فيديو
- **GitHub Issues**: الإبلاغ عن المشاكل التقنية
- **المناقشات**: شارك مشاريعك والتحسينات

## 📜 الرخصة

هذا المشروع مرخص تحت رخصة MIT - انظر ملف [LICENSE](LICENSE) للتفاصيل.

## ➡️ ماذا بعد؟

🎉 **تهانينا!** لقد أكملت سلسلة دروس ASP.NET Core 9 Web API!

**أتقنت:**
- ✅ بناء واجهات برمجة تطبيقات RESTful مع طرق HTTP صحيحة
- ✅ DTOs والتحقق لعقود API نظيفة
- ✅ AutoMapper لربط الكائنات
- ✅ حقن التبعية ودورات حياة الخدمات
- ✅ نمط Repository وطبقة الخدمات
- ✅ معالجة الاستثناءات الشاملة مع RFC 7807

**مسارات التعلم التالية:**
- **Entity Framework Core** لتكامل قاعدة البيانات الحقيقية
- **المصادقة والتفويض** مع JWT/OAuth
- **اختبار الوحدة** مع xUnit و Moq
- **اختبار التكامل** مع WebApplicationFactory
- **الخدمات الخلفية** والخدمات المستضافة
- **إصدار API** لـ APIs متطورة
- **التخزين المؤقت** مع IMemoryCache و Redis
- **التسجيل** مع Serilog والتسجيل المنظم

## 💡 نصائح احترافية لحقن التبعية

**فهم دورات حياة الخدمات أمر بالغ الأهمية لـ:**
- **تحسين الأداء** - اختر دورة الحياة المناسبة لحالة الاستخدام
- **إدارة الذاكرة** - تجنب تسريبات الذاكرة والتبعيات الأسيرة
- **إدارة الحالة** - فهم متى يتم إنشاء النسخ والتخلص منها
- **استراتيجية الاختبار** - تصميم خدمات سهلة التمويه والاختبار

**المفاهيم الرئيسية الموضحة في الفصل 07:**
- ✅ **Singleton**: نسخة واحدة لدورة حياة التطبيق بالكامل
- ✅ **Scoped**: نسخة واحدة لكل طلب HTTP (مثالي لـ DbContext)
- ✅ **Transient**: نسخة جديدة في كل مرة يتم حقنها
- ✅ **عرض بصري** مع تسجيل وحدة التحكم وتتبع GUID
- ✅ **تأثيرات الأداء** لكل دورة حياة خدمة
- ✅ **الأخطاء الشائعة** وكيفية تجنبها

## 💡 نصائح احترافية AutoMapper

**AutoMapper يحذف الكود المتكرر للربط ويوفر:**
- **ربط تلقائي** بين DTOs والكيانات مع تكوين أدنى
- **حساب حالة المخزون** مع منطق ربط مخصص لقواعد العمل
- **كونترولرز أنظف** مع تقليل الكود المكرر - من 20+ سطر إلى 1-2 سطر لكل ربط
- **تكوين ربط مركزي** في الملفات الشخصية لصيانة أفضل
- **فوائد الأداء** من خلال الربط المجمع والتعبيرات المخزنة مؤقتاً

**الفوائد الرئيسية الموضحة في الفصل 06:**
- ✅ **تقليل 90%** في أسطر كود الربط
- ✅ **تكوين مركزي** في MappingProfile.cs
- ✅ **سيناريوهات متقدمة** مثل حساب حالة المخزون
- ✅ **فصل أفضل للاهتمامات** بين الكونترولرز ومنطق الربط

## 💡 نصائح احترافية لمعالجة الاستثناءات

**معالجة الاستثناءات الشاملة توفر:**
- **إدارة أخطاء مركزية** - جميع الاستثناءات تُعالج في مكان واحد
- **التوافق مع RFC 7807** - تنسيق problem details قياسي للاتساق
- **كونترولرز نظيفة** - بدون كتل try-catch تزدحم الكود
- **واعية بالبيئة** - أخطاء تفصيلية في التطوير، معقمة في الإنتاج
- **استثناءات آمنة من حيث النوع** - تسلسل هرمي مخصص للاستثناءات مع رموز حالة HTTP
- **التحقق في طبقة الخدمات** - تحقق قابل لإعادة الاستخدام عبر جميع نقاط الدخول

**الفوائد الرئيسية الموضحة في الفصل 09:**
- ✅ **صفر كتل try-catch** في الكونترولرز
- ✅ **استجابات خطأ متسقة** عبر API بالكامل
- ✅ **استثناءات منظمة** مع رموز حالة HTTP صحيحة
- ✅ **التحقق في الخدمات** لإعادة استخدام وفحص أفضل
- ✅ **جاهز للإنتاج** الأمان مع تفاصيل أخطاء واعية بالبيئة

## 🙏 الشكر والتقدير

- Microsoft للمنصة الرائعة .NET
- فريق Swashbuckle لتكامل Swagger
- مساهمي AutoMapper
- مجتمع .NET الرائع

---

**⭐ لا تنس إعطاء نجمة لهذا المستودع إذا ساعدك في تعلم ASP.NET Core!**

**🔔 اشترك في قناتنا على يوتيوب للمزيد من دروس .NET!**